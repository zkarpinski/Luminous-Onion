import * as React from 'react';
import Card from '@mui/material/Card';
import CardHeader from '@mui/material/CardHeader';
import CardContent from '@mui/material/CardContent';
import {Grid, Typography} from "@mui/material";
import {Link} from "react-router-dom";

interface VulnerabilityCardProps {
    cardType: string;
    value: number;
}

export default function VulnerabilityCard({cardType, value}:VulnerabilityCardProps) {
    const linkURL = `/finding?severity=${cardType}`;

    const getBackgroundColor = () => {
         let color: string;
        if (cardType === "Critical") {
            color = '#880808';
        } else if (cardType === "High") {
            color = '#FF0000';
        } else if (cardType === "Medium") {
            color = '#FFBF00';
        } else if (cardType === "Low") {
            color = '#CCC';
        } else if (cardType === "Informational") {
            color = '#DDD';
        } else {
            color = '#DDD'
        }
        return color;
    };

    return (
        <Grid item xs={12} sm={6} md={4} lg={3} xl={2}>
            <Card sx={{ minWidth: 200, maxWidth: 320}} className="vulCard">
                <CardHeader
                    title={value}
                    subheader={cardType}
                    subheaderTypographyProps={{ color: 'white' }}
                    sx={{ background:getBackgroundColor, color:"#FFFFFF" }}
                />
                <CardContent>
                    <Typography variant="body2" color="text.secondary">
                        View {cardType} Findings <Link to={linkURL} >Click</Link>
                    </Typography>
                </CardContent>
            </Card>
        </Grid>
    );
}