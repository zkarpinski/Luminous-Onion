/* eslint-disable no-undef */
import * as React from 'react';
import Card from '@mui/material/Card';
import CardHeader from '@mui/material/CardHeader';
import CardContent from '@mui/material/CardContent';
import {Typography} from "@mui/material";
import {Link} from "react-router-dom";
import DoubleArrowOutlinedIcon from '@mui/icons-material/DoubleArrowOutlined';

export enum CardType {
    Critical = "Critical",
    High = "High",
    Medium = "Medium",
    Low = "Low",
    Info = "Informational",
}

interface VulnerabilityCardProps {
    cardType: CardType;
    value: number;
}

export default function VulnerabilityCard({cardType, value}:VulnerabilityCardProps) {
    const linkURL = `/finding?severity=${cardType}`;

    const getBackgroundColor = () => {
        let color: string;
        switch (cardType) {
            case CardType.Critical: {
                color = '#880808'
                break;
            }
            case CardType.High: {
                color = '#FF0000';
                break;
            }
            case CardType.Medium: {
                color = '#FFBF00';
                break;
            }
            case CardType.Low: {
                color = '#BBB';
                break;
            }
            case CardType.Info: {
                color = '#DDD';
                break;
            }
            default: {
                color = '#DDD';
                break;
            }
        }
        return color;
    };

    return (
        <Card className="FindingCard">
            <CardHeader
                title={value}
                subheader={cardType}
                subheaderTypographyProps={{ color: 'white' }}
                sx={{ background:getBackgroundColor, color:"#FFFFFF" }}
            />
            <CardContent sx={{padding:"1px", height:"20px"}}>
                <Typography variant="body2" color="text.secondary" paddingLeft={1}>
                    <b>View {cardType} Findings <Link to={linkURL} > <DoubleArrowOutlinedIcon  aria-label="View findings" fontSize={"inherit"}/></Link></b>
                </Typography>
            </CardContent>
        </Card>
    );
}